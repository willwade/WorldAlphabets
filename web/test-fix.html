<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Frequency Data Fix</title>
</head>
<body>
    <h1>Testing Frequency Data Fix</h1>
    <div id="results"></div>
    
    <script>
        // Test the language detection service fix
        async function testFrequencyDataFix() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = '<div>Testing frequency data fix...</div>';
            
            try {
                // Import the language detection service
                const { default: LanguageDetectionService } = await import('./src/services/languageDetectionService.js');
                const service = new LanguageDetectionService();
                
                // Initialize the service
                await service.initialize();
                
                // Test languages that should NOT have frequency data (these were causing 404s)
                const testLanguages = ['kok', 'kpe', 'ks', 'ksb', 'ksf', 'ku', 'kw', 'kxv', 'ky'];
                
                resultsDiv.innerHTML += '<h2>Testing languages without frequency data:</h2>';
                
                for (const lang of testLanguages) {
                    try {
                        const data = await service.loadFrequencyData(lang);
                        const hasData = data.ranks.size > 0;
                        resultsDiv.innerHTML += `<div>${lang}: ${hasData ? 'HAS DATA' : 'NO DATA (expected)'} - ${data.ranks.size} tokens</div>`;
                    } catch (error) {
                        resultsDiv.innerHTML += `<div>${lang}: ERROR - ${error.message}</div>`;
                    }
                }
                
                // Test a language that SHOULD have frequency data
                resultsDiv.innerHTML += '<h2>Testing language with frequency data:</h2>';
                try {
                    const deData = await service.loadFrequencyData('de');
                    const hasData = deData.ranks.size > 0;
                    resultsDiv.innerHTML += `<div>de: ${hasData ? 'HAS DATA (expected)' : 'NO DATA'} - ${deData.ranks.size} tokens</div>`;
                } catch (error) {
                    resultsDiv.innerHTML += `<div>de: ERROR - ${error.message}</div>`;
                }
                
                resultsDiv.innerHTML += '<div><strong>Test completed! Check browser console for any 404 errors.</strong></div>';
                
            } catch (error) {
                resultsDiv.innerHTML += `<div>Test failed: ${error.message}</div>`;
                console.error('Test error:', error);
            }
        }
        
        // Run the test when page loads
        window.addEventListener('load', testFrequencyDataFix);
    </script>
</body>
</html>
